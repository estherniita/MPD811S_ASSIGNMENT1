!function(){function e(t,n,r){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(t,n,r||t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(t){var u=i(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n,r,i,o,u){try{var a=e[o](u),s=a.value}catch(c){return void n(c)}a.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function u(e){s(o,r,i,u,a,"next",e)}function a(e){s(o,r,i,u,a,"throw",e)}u(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"74mu":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a});var r=function(e,t){return null!==t.closest(e)},i=function(e,t){return"string"==typeof e&&e.length>0?Object.assign((n={"ion-color":!0},r="ion-color-".concat(e),i=!0,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),t):t;var n,r,i},o=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(function(e){return null!=e}).map(function(e){return e.trim()}).filter(function(e){return""!==e}):[]}(e).forEach(function(e){return t[e]=!0}),t},u=/^[a-z][a-z0-9+\-.]*:/,a=function(){var e=c(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||u.test(t)){e.next=4;break}if(!(o=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=n&&n.preventDefault(),o.push(t,r,i)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},acej:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("1vRN"),i=function(){var e=c(regeneratorRuntime.mark(function e(t,n,i,o,u){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(n,i,u,o));case 2:if("string"==typeof i||i instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:return a="string"==typeof i?n.ownerDocument&&n.ownerDocument.createElement(i):i,o&&o.forEach(function(e){return a.classList.add(e)}),u&&Object.assign(a,u),n.appendChild(a),e.next=10,new Promise(function(e){return Object(r.c)(a,e)});case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),o=function(e,t){if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},"c/rV":function(r,u,s){"use strict";s.d(u,"a",function(){return w});var c=s("7o/Q");function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new d(e,t))}}var l,d=function(){function e(t,n){o(this,e),this.count=t,this.source=n}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.count,this.source))}}]),e}(),h=function(r){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(s,r);var u=n(s);function s(e,t,n){var r;return o(this,s),(r=u.call(this,e)).count=t,r.source=n,r}return a(s,[{key:"error",value:function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e(i(s.prototype),"error",this).call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}}}]),s}(c.a),p=s("lJxs"),v=(s("gcOT"),s("5x/H"),s("6nsN"),s("WI49"),s("fXoL")),g=s("I/3d"),m=s("Vaw3"),b=s("TEn/"),y=s("lGQG"),w=((l=function(){function e(t,n,r,i,u,a,s){o(this,e),this.aFirestore=t,this.afStorage=n,this.toastCtrl=r,this.loadingCtrl=i,this.alertCtrl=u,this.authService=a,this.navCtrl=s,this.userCollection=this.aFirestore.collection("users"),this.requestsCollection=this.aFirestore.collection("requests")}return a(e,[{key:"getOrdersByShopId",value:function(e){return this.aFirestore.collection("orders",function(t){return t.where("shopId","==",e)}).valueChanges()}},{key:"getOrdersByUserId",value:function(e){return this.aFirestore.collection("orders",function(t){return t.where("shopId","==",e)}).valueChanges()}},{key:"getUserData",value:function(e){return this.userCollection.doc(e).valueChanges()}},{key:"getUsers",value:function(){return this.userCollection.snapshotChanges().pipe(f(3),Object(p.a)(function(e){return e.map(function(e){var t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})}))}},{key:"getRequests",value:function(){return this.requestsCollection.snapshotChanges().pipe(f(3),Object(p.a)(function(e){return e.map(function(e){var t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})}))}},{key:"addRequest",value:function(e){return this.requestsCollection.add(e)}},{key:"saveRequest",value:function(e){return this.userCollection.doc(e.uid).collection("requests").add(e.data)}},{key:"deleteRequest",value:function(e){return this.userCollection.doc(e.uid).collection("requests").doc(e.reqId).delete()}}]),e}()).\u0275fac=function(e){return new(e||l)(v.Ub(g.a),v.Ub(m.a),v.Ub(b.C),v.Ub(b.x),v.Ub(b.b),v.Ub(y.a),v.Ub(b.y))},l.\u0275prov=v.Jb({token:l,factory:l.\u0275fac,providedIn:"root"}),l)},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={bubbles:{dur:1e3,circles:9,fn:function(e,t,n){var r=e*t/n-e+"ms",i=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(e,t,n){var r=t/n,i=e*r-e+"ms",o=2*Math.PI*r;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){return{r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(e,t,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}}}},lGQG:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("mrSG"),i=n("gcOT"),u=(n("5x/H"),n("6nsN"),n("fXoL")),s=n("tyNb"),c=n("UbJi"),f=n("TEn/"),l=n("I/3d"),d=i.b.Storage,h=function(){var e=function(){function e(t,n,r,i,u,a){o(this,e),this.router=t,this.auth=n,this.loadingCtrl=r,this.alertCtrl=i,this.afs=u,this.navCtrl=a,this.userCollection=this.afs.collection("users")}return a(e,[{key:"isLoggedIn",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get({key:"user"});case 2:return t=e.sent,e.abrupt("return",!1!==JSON.parse(t.value).user.loggedIn);case 4:case"end":return e.stop()}},e)}))}},{key:"getUserData",value:function(e){return this.userCollection.doc(e).valueChanges()}},{key:"login",value:function(e,t){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingCtrl.create({message:"Authenticating",spinner:"dots"});case 2:return i=n.sent,n.next=5,i.present();case 5:return n.next=7,this.auth.signInWithEmailAndPassword(e,t).then(function(e){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getUserData(e.user.uid).subscribe(function(t){return Object(r.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,d.set({key:"user",value:JSON.stringify({loggedIn:!0,uid:e.user.uid,user:t})}).then(function(){i.dismiss(),r.navCtrl.navigateRoot("/home")});case 3:case"end":return n.stop()}},n)}))});case 1:case"end":return t.stop()}},t,this)}))}).catch(function(e){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.code,t.next="auth/wrong-password"===t.t0?3:"auth/user-not-found"===t.t0?5:13;break;case 3:return this.loadingCtrl.dismiss(),this.showAlert("You have entered a wrong password, enter the correct password"),t.abrupt("break",13);case 5:return this.loadingCtrl.dismiss(),t.next=8,this.alertCtrl.create({message:"No account was found corresponsing to the email you entered",buttons:[{text:"Re-enter email",role:"cancel"},{text:"Signup",handler:function(){r.router.navigate(["/signup"])}}]});case 8:return(n=t.sent).backdropDismiss=!1,t.next=12,n.present();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)}))});case 7:case"end":return n.stop()}},n,this)}))}},{key:"showAlert",value:function(e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({message:e,buttons:["ok"]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"showAlertNav",value:function(e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({message:e,buttons:[{text:"Okay",handler:function(){r.navCtrl.navigateRoot(["/login"])}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"showLoading",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingCtrl.create({message:"Processing request...",duration:3e3,spinner:"crescent"});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"signup",value:function(e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingCtrl.create({message:"Creating account",spinner:"crescent"});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,this.auth.createUserWithEmailAndPassword(e.email,e.pwd).then(function(e){return Object(r.b)(i,void 0,void 0,regeneratorRuntime.mark(function t(){var i,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return n.dismiss(),this.showAlertNav("Your account was successfully created, please use the credentials to login"),i={email:e.user.email,dateCreate:(new Date).toLocaleString(),driver:!1},t.next=5,this.userCollection.doc(e.user.uid).set(i).then(function(e){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.dismiss(),this.navCtrl.navigateRoot(["/login"]);case 1:case"end":return e.stop()}},e,this)}))}).catch(function(e){});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}).catch(function(e){n.dismiss(),i.showAlert(e.message)});case 7:case"end":return t.stop()}},t,this)}))}},{key:"createShop",value:function(e,t){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.auth.createUserWithEmailAndPassword(e,t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"signout",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.auth.signOut().then(function(e){return Object(r.b)(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.remove({key:"user"}).then(function(){t.navCtrl.navigateRoot(["/login"])});case 2:case"end":return e.stop()}},e)}))});case 1:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Ub(s.g),u.Ub(c.a),u.Ub(f.x),u.Ub(f.b),u.Ub(l.a),u.Ub(f.y))},e.\u0275prov=u.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},pX2f:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("2atR"),i=n("iWo5"),o=n("qULd"),u=function(e,t){var n,u,a=function(e,r,i){if("undefined"!=typeof document){var o=document.elementFromPoint(e,r);o&&t(o)?o!==n&&(c(),s(o,i)):c()}},s=function(e,t){n=e,u||(u=n);var i=n;Object(r.f)(function(){return i.classList.add("ion-activated")}),t()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var t=n;Object(r.f)(function(){return t.classList.remove("ion-activated")}),e&&u!==n&&n.click(),n=void 0}};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:function(e){return a(e.currentX,e.currentY,o.a)},onMove:function(e){return a(e.currentX,e.currentY,o.b)},onEnd:function(){c(!0),Object(o.e)(),u=void 0}})}},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return a});var r={getEngine:function(){var e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})}},notification:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=function(){r.selection()},o=function(){r.selectionStart()},u=function(){r.selectionChanged()},a=function(){r.selectionEnd()},s=function(e){r.impact(e)}}}])}();