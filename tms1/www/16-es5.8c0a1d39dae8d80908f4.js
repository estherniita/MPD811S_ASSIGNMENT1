!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{hGdX:function(n,r,o){"use strict";o.r(r),o.d(r,"RequestsPageModule",function(){return k});var i=o("ofXK"),a=o("3Pt+"),c=o("TEn/"),s=o("tyNb"),u=o("mrSG"),d=(o("WI49"),o("gcOT")),b=o("fXoL"),f=o("c/rV");function l(e,t){if(1&e&&(b.Qb(0,"ion-card"),b.Ob(1,"img",7),b.Qb(2,"div",8),b.Qb(3,"ion-label"),b.pc(4),b.Pb(),b.Qb(5,"ion-label"),b.pc(6),b.Pb(),b.Qb(7,"ion-label"),b.pc(8),b.Pb(),b.Pb(),b.Pb()),2&e){var n=t.$implicit;b.Db(4),b.rc("Driver name: ",n.driverName,""),b.Db(2),b.rc("Destination: ",n.destination,""),b.Db(2),b.rc("Date Created: ",n.date,"")}}var p,g,m,h=d.b,v=h.Network,w=h.Storage,P=[{path:"",component:(p=function(){function n(t,r,o,i){e(this,n),this.main=t,this.loadingCtrl=r,this.toastCtrl=o,this.alertCtrl=i,this.userdata=[]}var r,o,i;return r=n,(o=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.userdata=[],e.next=3,this.loadingCtrl.create({message:"Loading",spinner:"crescent"});case 3:return t=e.sent,e.next=6,v.getStatus();case 6:n=e.sent,w.get({key:"user"}).then(function(e){return Object(u.b)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.connected){r.next=6;break}return r.next=3,t.present();case 3:this.main.getRequests().subscribe(function(n){var r=JSON.parse(e.value);n.length>0&&(n.forEach(function(e){if(r.uid===e.uid){var t={destination:e.destination,attented:!1,date:(new Date).toLocaleString("en-GB"),uid:e.uid,driver:e.id,driverName:e.driverName};i.userdata.push(t)}}),t.dismiss())},function(){return Object(u.b)(i,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:"Something went wrong. Please try again alter",duration:3e3});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}),r.next=11;break;case 6:return r.next=8,this.toastCtrl.create({message:"No internet connection. Make sure you are connected to the internet to proceed.",duration:3e3});case 8:return o=r.sent,r.next=11,o.present();case 11:case"end":return r.stop()}},r,this)}))}).catch(function(){return Object(u.b)(r,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:"Something went wrong. Please try again alter",duration:3e3});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))});case 8:case"end":return e.stop()}},e,this)}))}}])&&t(r.prototype,o),i&&t(r,i),n}(),p.\u0275fac=function(e){return new(e||p)(b.Nb(f.a),b.Nb(c.x),b.Nb(c.C),b.Nb(c.b))},p.\u0275cmp=b.Hb({type:p,selectors:[["app-requests"]],decls:11,vars:1,consts:[["slot","start"],["defaultHref","/home","color","pinkish"],["slot","end"],["routerLink","/addrequest","slot","icon-only"],["slot","start","name","add",1,"add"],["fullscreen","true",1,"ion-padding"],[4,"ngFor","ngForOf"],["src","../../../assets/imgs/driver2.jpg"],[1,"content"]],template:function(e,t){1&e&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-title"),b.pc(3,"Requests"),b.Pb(),b.Qb(4,"ion-buttons",0),b.Ob(5,"ion-back-button",1),b.Pb(),b.Qb(6,"ion-buttons",2),b.Qb(7,"ion-button",3),b.Ob(8,"ion-icon",4),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(9,"ion-content",5),b.oc(10,l,9,3,"ion-card",6),b.Pb()),2&e&&(b.Db(10),b.fc("ngForOf",t.userdata))},directives:[c.m,c.u,c.t,c.h,c.e,c.f,c.g,c.A,s.h,c.n,c.j,i.j,c.i,c.q],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:5%;--background:#f5f2f3!important}ion-toolbar[_ngcontent-%COMP%]{--background:#fff5f8!important;--color:#000!important}.add[_ngcontent-%COMP%]{font-size:1.2rem!important}ion-card[_ngcontent-%COMP%]{--background:transparent;--color:#000;border-radius:.5rem;height:12rem}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;-o-object-fit:cover;object-fit:cover;width:100%}ion-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}"]}),p)}],O=((m=function t(){e(this,t)}).\u0275fac=function(e){return new(e||m)},m.\u0275mod=b.Lb({type:m}),m.\u0275inj=b.Kb({imports:[[s.i.forChild(P)],s.i]}),m),k=((g=function t(){e(this,t)}).\u0275fac=function(e){return new(e||g)},g.\u0275mod=b.Lb({type:g}),g.\u0275inj=b.Kb({imports:[[i.c,a.g,c.v,O]]}),g)}}])}();