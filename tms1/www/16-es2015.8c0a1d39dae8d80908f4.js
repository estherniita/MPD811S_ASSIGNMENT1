(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{hGdX:function(t,e,n){"use strict";n.r(e),n.d(e,"RequestsPageModule",function(){return h});var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),a=n("mrSG"),c=(n("WI49"),n("gcOT")),d=n("fXoL"),b=n("c/rV");function l(t,e){if(1&t&&(d.Qb(0,"ion-card"),d.Ob(1,"img",7),d.Qb(2,"div",8),d.Qb(3,"ion-label"),d.pc(4),d.Pb(),d.Qb(5,"ion-label"),d.pc(6),d.Pb(),d.Qb(7,"ion-label"),d.pc(8),d.Pb(),d.Pb(),d.Pb()),2&t){const t=e.$implicit;d.Db(4),d.rc("Driver name: ",t.driverName,""),d.Db(2),d.rc("Destination: ",t.destination,""),d.Db(2),d.rc("Date Created: ",t.date,"")}}const{Network:u,Storage:g}=c.b,p=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.main=t,this.loadingCtrl=e,this.toastCtrl=n,this.alertCtrl=o,this.userdata=[]}ngOnInit(){}ionViewWillEnter(){return Object(a.b)(this,void 0,void 0,function*(){this.userdata=[];const t=yield this.loadingCtrl.create({message:"Loading",spinner:"crescent"}),e=yield u.getStatus();g.get({key:"user"}).then(n=>Object(a.b)(this,void 0,void 0,function*(){if(e.connected)yield t.present(),this.main.getRequests().subscribe(e=>{const o=JSON.parse(n.value);e.length>0&&(e.forEach(t=>{if(o.uid===t.uid){const e={destination:t.destination,attented:!1,date:(new Date).toLocaleString("en-GB"),uid:t.uid,driver:t.id,driverName:t.driverName};this.userdata.push(e)}}),t.dismiss())},()=>Object(a.b)(this,void 0,void 0,function*(){const t=yield this.toastCtrl.create({message:"Something went wrong. Please try again alter",duration:3e3});yield t.present()}));else{const t=yield this.toastCtrl.create({message:"No internet connection. Make sure you are connected to the internet to proceed.",duration:3e3});yield t.present()}})).catch(()=>Object(a.b)(this,void 0,void 0,function*(){const t=yield this.toastCtrl.create({message:"Something went wrong. Please try again alter",duration:3e3});yield t.present()}))})}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(b.a),d.Nb(r.x),d.Nb(r.C),d.Nb(r.b))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-requests"]],decls:11,vars:1,consts:[["slot","start"],["defaultHref","/home","color","pinkish"],["slot","end"],["routerLink","/addrequest","slot","icon-only"],["slot","start","name","add",1,"add"],["fullscreen","true",1,"ion-padding"],[4,"ngFor","ngForOf"],["src","../../../assets/imgs/driver2.jpg"],[1,"content"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-title"),d.pc(3,"Requests"),d.Pb(),d.Qb(4,"ion-buttons",0),d.Ob(5,"ion-back-button",1),d.Pb(),d.Qb(6,"ion-buttons",2),d.Qb(7,"ion-button",3),d.Ob(8,"ion-icon",4),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(9,"ion-content",5),d.oc(10,l,9,3,"ion-card",6),d.Pb()),2&t&&(d.Db(10),d.fc("ngForOf",e.userdata))},directives:[r.m,r.u,r.t,r.h,r.e,r.f,r.g,r.A,s.h,r.n,r.j,o.j,r.i,r.q],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:5%;--background:#f5f2f3!important}ion-toolbar[_ngcontent-%COMP%]{--background:#fff5f8!important;--color:#000!important}.add[_ngcontent-%COMP%]{font-size:1.2rem!important}ion-card[_ngcontent-%COMP%]{--background:transparent;--color:#000;border-radius:.5rem;height:12rem}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;-o-object-fit:cover;object-fit:cover;width:100%}ion-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[s.i.forChild(p)],s.i]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({imports:[[o.c,i.g,r.v,f]]}),t})()}}]);